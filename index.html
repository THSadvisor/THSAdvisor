<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Convertisseur Hormonal</title>
    <style>
        body {
            font-family: monospace;
            background-color: #121212;
            color: #FFFFFF;
            margin: 20px;
        }
        .container {
            max-width: 600px;
            margin: auto;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        input {
            width: 100%;
            padding: 5px;
            margin-top: 5px;
            background-color: #333;
            color: #FFF;
            border: 1px solid #666;
        }
        select {
            width: 100%;
            padding: 5px;
            background-color: #333;
            color: #FFF;
            border: 1px solid #666;
            margin-top: 5px;
        }
        button {
            margin-top: 10px;
            padding: 10px;
            background-color: #007BFF;
            color: #FFF;
            border: none;
            cursor: pointer;
            width: 100%;
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            background-color: #1E1E1E;
            border: 1px solid #333;
        }
        .highlight {
            font-weight: bold;
            color: #00A0FF;
        }
        .note {
            font-size: 0.9em;
            color: #999;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Convertisseur de Testostérone</h2>
        <label for="testosterone">Valeur de testostérone :</label>
        <input type="number" id="testosterone" placeholder="Entrez la valeur">
        
        <label for="testosterone-unit">Unité :</label>
        <select id="testosterone-unit">
            <option value="nmol/L">nmol/L</option>
            <option value="ng/dL">ng/dL</option>
            <option value="ng/mL">ng/mL</option>
            <option value="ng/L">ng/L</option>
            <option value="µg/L">µg/L</option>
        </select>
        
        <button onclick="convertTestosterone()">Convertir</button>

        <div id="testosterone-result" class="result"></div>
        
        <h2>Convertisseur d'Œstradiol</h2>
        <label for="oestradiol">Valeur d'oestradiol :</label>
        <input type="number" id="oestradiol" placeholder="Entrez la valeur">
        
        <label for="oestradiol-unit">Unité :</label>
        <select id="oestradiol-unit">
            <option value="pmol/L">pmol/L</option>
            <option value="pg/dL">pg/dL</option>
            <option value="ng/L">ng/L</option>
        </select>
        
        <button onclick="convertOestradiol()">Convertir</button>

        <div id="oestradiol-result" class="result"></div>

        <p id="asterisk-note" class="note"></p>
    </div>

    <script>
        // Fonction pour supprimer les décimales nulles
        function formatNumber(value) {
            return (value % 1 === 0) ? value.toString() : value.toFixed(6).replace(/\.?0+$/, "");
        }

        // Convertir Testostérone
        function convertTestosterone() {
            const value = parseFloat(document.getElementById('testosterone').value);
            const unit = document.getElementById('testosterone-unit').value;
            let ngPerMl, ngPerL, ugPerL, nmolPerL, ngPerDl;

            // Conversion de la valeur d'origine
            if (unit === "nmol/L") {
                // 1 nmol/L = 0.288 ng/mL
                ngPerMl = value * 0.288;
            } else if (unit === "ng/dL") {
                // 1 ng/dL = 0.01 ng/mL
                ngPerMl = value * 0.01;
            } else if (unit === "ng/mL") {
                ngPerMl = value;
            } else if (unit === "ng/L") {
                // 1 ng/L = 0.001 ng/mL
                ngPerMl = value / 1000;
            } else if (unit === "µg/L") {
                // 1 µg/L = 1 ng/mL
                ngPerMl = value * 1000;
            }

            // Calcul des autres unités
            ngPerL = ngPerMl * 1000;
            ugPerL = ngPerL / 1000;
            nmolPerL = ngPerMl / 0.288;
            ngPerDl = ngPerMl * 100;

            // Affichage du résultat avec suppression des décimales nulles
            document.getElementById('testosterone-result').innerHTML = `
                <p><span class="highlight">ng/mL : ${formatNumber(ngPerMl)} (Objectif THSm : 2.5 - 9 ng/mL ; Objectif THSf : < 0.5 ng/mL*)</span></p>
                <p>ng/L : ${formatNumber(ngPerL)}</p>
                <p>µg/L : ${formatNumber(ugPerL)}</p>
                <p>nmol/L : ${formatNumber(nmolPerL)}</p>
                <p>ng/dL : ${formatNumber(ngPerDl)}</p>
            `;

            // Afficher l'astérisque
            document.getElementById('asterisk-note').innerText = "*Exemple d'objectif biologique, à adapter bien sûr au cas par cas et à la clinique.";
        }

        // Convertir Œstradiol
        function convertOestradiol() {
            const value = parseFloat(document.getElementById('oestradiol').value);
            const unit = document.getElementById('oestradiol-unit').value;
            let pgPerMl, pmolPerL, pgPerDl, ngPerL;

            // Conversion de la valeur d'origine
            if (unit === "pmol/L") {
                pgPerMl = value * 0.272;  // 1 pmol/L = 0.272 pg/mL
            } else if (unit === "pg/dL") {
                pgPerMl = value / 100;    // 1 pg/dL = 0.01 pg/mL
            } else if (unit === "ng/L") {
                pgPerMl = value * 1;      // 1 ng/L = 1 pg/mL
            }

            // Calcul des autres unités
            pmolPerL = pgPerMl / 0.272;   // Inverse de la conversion pmol/L -> pg/mL
            pgPerDl = pgPerMl * 100;
            ngPerL = pgPerMl / 1;

            // Affichage du résultat avec suppression des décimales nulles
            document.getElementById('oestradiol-result').innerHTML = `
                <p><span class="highlight">pg/mL : ${formatNumber(pgPerMl)} (Objectif THSf : 100-400 pg/mL*)</span></p>
                <p>pmol/L : ${formatNumber(pmolPerL)}</p>
                <p>pg/dL : ${formatNumber(pgPerDl)}</p>
                <p>ng/L : ${formatNumber(ngPerL)}</p>
            `;

            // Afficher l'astérisque
            document.getElementById('asterisk-note').innerText = "*Exemple d'objectif biologique, à adapter bien sûr au cas par cas et à la clinique.";
        }
    </script>
</body>
</html>
